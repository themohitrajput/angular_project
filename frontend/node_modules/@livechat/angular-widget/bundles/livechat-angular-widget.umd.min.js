!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@livechat/angular-widget",["exports","@angular/core","rxjs"],e):e(((t=t||self).livechat=t.livechat||{},t.livechat["angular-widget"]={}),t.ng.core,t.rxjs)}(this,(function(t,e,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e,n,i){var o,r=arguments.length,u=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(r<3?o(u):r>3?o(e,n,u):o(e,n))||u);return r>3&&u&&Object.defineProperty(e,n,u),u}var o=function(){function t(){this.onChatLoaded=new n.Subject,this.onAfterLoad=new n.Subject,this.onBeforeLoad=new n.Subject,this.onChatEnded=new n.Subject,this.onChatStarted=new n.Subject,this.onChatStateChanged=new n.Subject,this.onChatWindowHidden=new n.Subject,this.onChatWindowMinimized=new n.Subject,this.onChatWindowOpened=new n.Subject,this.onMessage=new n.Subject,this.onPostchatSurveySubmitted=new n.Subject,this.onPrechatSurveySubmitted=new n.Subject,this.onRatingCommentSubmitted=new n.Subject,this.onRatingSubmitted=new n.Subject,this.onTicketCreated=new n.Subject,this.onWidgetResize=new n.Subject}return t.prototype.ngOnInit=function(){var t=this;if(!window.LC_API){window.__lc=window.__lc||{},window.__lc.license=this.licenseId,window.__lc.group=this.group,window.__lc.chat_between_groups=this.chatBetweenGroups,window.__lc.params=this.params,window.__lc.visitor=this.visitor,window.__lc.ga_version=this.gaVersion;var e={_q:[],_h:null,call:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e._h&&e._h.apply(null,["call",[].slice.call(t)])}};window.LiveChatWidget=e,this.lc=document.createElement("script"),this.lc.type="text/javascript",this.lc.async=!0,this.lc.src="https://cdn.livechatinc.com/tracking.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(this.lc,n),this.lc.addEventListener("load",(function(){t._chatLoaded(window.LC_API)})),this.lc.addEventListener("error",(function(t){console.error(t)}))}},t.prototype.ngOnDestroy=function(){window.LiveChatWidget&&"function"==typeof window.LiveChatWidget.call&&(window.LiveChatWidget.call("destroy"),this.lc&&this.lc.remove(),["secure.livechat.com","secure.livechatinc.com"].forEach((function(t){Array.from(document.querySelectorAll('[src*="'+t+'"]')).forEach((function(t){return t.remove()}))})))},t.prototype._chatLoaded=function(t){this._setCallbacks(t),this._setMethods(t),this.onChatLoaded.next(t)},t.prototype._setCallbacks=function(t){var e=this;t.on_after_load=function(){return e.onAfterLoad.next()},t.on_before_load=function(){return e.onBeforeLoad.next()},t.on_chat_ended=function(){return e.onChatEnded.next()},t.on_chat_started=function(t){return e.onChatStarted.next(t)},t.on_chat_state_changed=function(t){return e.onChatStateChanged.next(t)},t.on_chat_window_hidden=function(){return e.onChatWindowHidden.next()},t.on_chat_window_minimized=function(){return e.onChatWindowMinimized.next()},t.on_chat_window_opened=function(){return e.onChatWindowOpened.next()},t.on_message=function(t){return e.onMessage.next(t)},t.on_postchat_survey_submitted=function(t){return e.onPostchatSurveySubmitted.next(t)},t.on_prechat_survey_submitted=function(t){return e.onPrechatSurveySubmitted.next(t)},t.on_rating_comment_submitted=function(t){return e.onRatingCommentSubmitted.next(t)},t.on_rating_submitted=function(t){return e.onRatingSubmitted.next(t)},t.on_ticket_created=function(t){return e.onTicketCreated.next(t)}},t.prototype._setMethods=function(t){this.agentsAreAvailable=function(){return t.agents_are_available()},this.chatRunning=function(){return t.chat_running()},this.chatWindowHidden=function(){return t.chat_window_hidden()},this.chatWindowMaximized=function(){return t.chat_window_maximized()},this.chatWindowMinimized=function(){return t.chat_window_minimized()},this.closeChat=function(){return t.close_chat()},this.getChatId=function(){return t.get_chat_id()},this.getChatsNumber=function(){return t.get_chats_number()},this.getLastVisitTimestamp=function(){return t.get_last_visit_timestamp()},this.getPageViewsNumber=function(){return t.get_page_views_number()},this.getVisitorId=function(){return t.get_visitor_id()},this.getVisitsNumber=function(){return t.get_visits_number()},this.hideChatWindow=function(){return t.hide_chat_window()},this.minimizeChatWindow=function(){return t.minimize_chat_window()},this.openChatWindow=function(){return t.open_chat_window()},this.setCustomVariables=function(e){return t.set_custom_variables(e)},this.setVisitorEmail=function(e){return t.set_visitor_email(e)},this.setVisitorName=function(e){return t.set_visitor_name(e)},this.triggerSalesTracker=function(e,n){return t.trigger_sales_tracker(e,n)},this.updateCustomVariables=function(e){return t.update_custom_variables(e)},this.visitorEngaged=function(){return t.visitor_engaged()},this.visitorQueued=function(){return t.visitor_queued()}},i([e.Input()],t.prototype,"licenseId",void 0),i([e.Input()],t.prototype,"group",void 0),i([e.Input()],t.prototype,"chatBetweenGroups",void 0),i([e.Input()],t.prototype,"params",void 0),i([e.Input()],t.prototype,"visitor",void 0),i([e.Input()],t.prototype,"gaVersion",void 0),i([e.Output()],t.prototype,"onChatLoaded",void 0),i([e.Output()],t.prototype,"onAfterLoad",void 0),i([e.Output()],t.prototype,"onBeforeLoad",void 0),i([e.Output()],t.prototype,"onChatEnded",void 0),i([e.Output()],t.prototype,"onChatStarted",void 0),i([e.Output()],t.prototype,"onChatStateChanged",void 0),i([e.Output()],t.prototype,"onChatWindowHidden",void 0),i([e.Output()],t.prototype,"onChatWindowMinimized",void 0),i([e.Output()],t.prototype,"onChatWindowOpened",void 0),i([e.Output()],t.prototype,"onMessage",void 0),i([e.Output()],t.prototype,"onPostchatSurveySubmitted",void 0),i([e.Output()],t.prototype,"onPrechatSurveySubmitted",void 0),i([e.Output()],t.prototype,"onRatingCommentSubmitted",void 0),i([e.Output()],t.prototype,"onRatingSubmitted",void 0),i([e.Output()],t.prototype,"onTicketCreated",void 0),i([e.Output()],t.prototype,"onWidgetResize",void 0),t=i([e.Component({selector:"livechat-widget",template:""})],t)}(),r=function(){function t(){}return t=i([e.NgModule({imports:[],declarations:[o],exports:[o]})],t)}();t.LivechatWidgetComponent=o,t.LivechatWidgetModule=r,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=livechat-angular-widget.umd.min.js.map