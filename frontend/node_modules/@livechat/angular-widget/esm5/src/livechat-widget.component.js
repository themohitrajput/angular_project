import { __decorate } from "tslib";
import { Component, Input, Output } from '@angular/core';
import { Subject } from 'rxjs';
var LivechatWidgetComponent = /** @class */ (function () {
    function LivechatWidgetComponent() {
        this.onChatLoaded = new Subject();
        this.onAfterLoad = new Subject();
        this.onBeforeLoad = new Subject();
        this.onChatEnded = new Subject();
        this.onChatStarted = new Subject();
        this.onChatStateChanged = new Subject();
        this.onChatWindowHidden = new Subject();
        this.onChatWindowMinimized = new Subject();
        this.onChatWindowOpened = new Subject();
        this.onMessage = new Subject();
        this.onPostchatSurveySubmitted = new Subject();
        this.onPrechatSurveySubmitted = new Subject();
        this.onRatingCommentSubmitted = new Subject();
        this.onRatingSubmitted = new Subject();
        this.onTicketCreated = new Subject();
        this.onWidgetResize = new Subject();
    }
    LivechatWidgetComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!window['LC_API']) {
            window['__lc'] = window['__lc'] || {};
            window['__lc'].license = this.licenseId;
            window['__lc'].group = this.group;
            window['__lc'].chat_between_groups = this.chatBetweenGroups;
            window['__lc'].params = this.params;
            window['__lc'].visitor = this.visitor;
            window['__lc'].ga_version = this.gaVersion;
            var api_1 = { _q: [], _h: null, call: function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return api_1._h && api_1._h.apply(null, ['call', [].slice.call(args)]);
                } };
            window['LiveChatWidget'] = api_1;
            this.lc = document.createElement('script');
            this.lc.type = 'text/javascript';
            this.lc.async = true;
            this.lc.src = 'https://cdn.livechatinc.com/tracking.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(this.lc, s);
            this.lc.addEventListener('load', function () {
                _this._chatLoaded(window['LC_API']);
            });
            this.lc.addEventListener('error', function (error) {
                console.error(error);
            });
        }
    };
    LivechatWidgetComponent.prototype.ngOnDestroy = function () {
        if (window['LiveChatWidget'] && typeof window['LiveChatWidget'].call === 'function') {
            window['LiveChatWidget'].call('destroy');
            this.lc && this.lc.remove();
            ['secure.livechat.com', 'secure.livechatinc.com'].forEach(function (domain) {
                Array.from(document.querySelectorAll("[src*=\"" + domain + "\"]")).forEach(function (s) { return s.remove(); });
            });
        }
    };
    LivechatWidgetComponent.prototype._chatLoaded = function (LC_API) {
        this._setCallbacks(LC_API);
        this._setMethods(LC_API);
        this.onChatLoaded.next(LC_API);
    };
    LivechatWidgetComponent.prototype._setCallbacks = function (LC_API) {
        var _this = this;
        LC_API.on_after_load = function () { return _this.onAfterLoad.next(); };
        LC_API.on_before_load = function () { return _this.onBeforeLoad.next(); };
        LC_API.on_chat_ended = function () { return _this.onChatEnded.next(); };
        LC_API.on_chat_started = function (data) { return _this.onChatStarted.next(data); };
        LC_API.on_chat_state_changed = function (data) { return _this.onChatStateChanged.next(data); };
        LC_API.on_chat_window_hidden = function () { return _this.onChatWindowHidden.next(); };
        LC_API.on_chat_window_minimized = function () { return _this.onChatWindowMinimized.next(); };
        LC_API.on_chat_window_opened = function () { return _this.onChatWindowOpened.next(); };
        LC_API.on_message = function (data) { return _this.onMessage.next(data); };
        LC_API.on_postchat_survey_submitted = function (data) { return _this.onPostchatSurveySubmitted.next(data); };
        LC_API.on_prechat_survey_submitted = function (data) { return _this.onPrechatSurveySubmitted.next(data); };
        LC_API.on_rating_comment_submitted = function (data) { return _this.onRatingCommentSubmitted.next(data); };
        LC_API.on_rating_submitted = function (data) { return _this.onRatingSubmitted.next(data); };
        LC_API.on_ticket_created = function (data) { return _this.onTicketCreated.next(data); };
    };
    LivechatWidgetComponent.prototype._setMethods = function (LC_API) {
        this.agentsAreAvailable = function () { return LC_API.agents_are_available(); };
        this.chatRunning = function () { return LC_API.chat_running(); };
        this.chatWindowHidden = function () { return LC_API.chat_window_hidden(); };
        this.chatWindowMaximized = function () { return LC_API.chat_window_maximized(); };
        this.chatWindowMinimized = function () { return LC_API.chat_window_minimized(); };
        this.closeChat = function () { return LC_API.close_chat(); };
        this.getChatId = function () { return LC_API.get_chat_id(); };
        this.getChatsNumber = function () { return LC_API.get_chats_number(); };
        this.getLastVisitTimestamp = function () { return LC_API.get_last_visit_timestamp(); };
        this.getPageViewsNumber = function () { return LC_API.get_page_views_number(); };
        this.getVisitorId = function () { return LC_API.get_visitor_id(); };
        this.getVisitsNumber = function () { return LC_API.get_visits_number(); };
        this.hideChatWindow = function () { return LC_API.hide_chat_window(); };
        this.minimizeChatWindow = function () { return LC_API.minimize_chat_window(); };
        this.openChatWindow = function () { return LC_API.open_chat_window(); };
        this.setCustomVariables = function (t) { return LC_API.set_custom_variables(t); };
        this.setVisitorEmail = function (t) { return LC_API.set_visitor_email(t); };
        this.setVisitorName = function (t) { return LC_API.set_visitor_name(t); };
        this.triggerSalesTracker = function (e, t) { return LC_API.trigger_sales_tracker(e, t); };
        this.updateCustomVariables = function (t) { return LC_API.update_custom_variables(t); };
        this.visitorEngaged = function () { return LC_API.visitor_engaged(); };
        this.visitorQueued = function () { return LC_API.visitor_queued(); };
    };
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "licenseId", void 0);
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "group", void 0);
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "chatBetweenGroups", void 0);
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "params", void 0);
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "visitor", void 0);
    __decorate([
        Input()
    ], LivechatWidgetComponent.prototype, "gaVersion", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatLoaded", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onAfterLoad", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onBeforeLoad", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatEnded", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatStarted", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatStateChanged", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatWindowHidden", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatWindowMinimized", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onChatWindowOpened", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onMessage", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onPostchatSurveySubmitted", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onPrechatSurveySubmitted", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onRatingCommentSubmitted", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onRatingSubmitted", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onTicketCreated", void 0);
    __decorate([
        Output()
    ], LivechatWidgetComponent.prototype, "onWidgetResize", void 0);
    LivechatWidgetComponent = __decorate([
        Component({
            selector: 'livechat-widget',
            template: ""
        })
    ], LivechatWidgetComponent);
    return LivechatWidgetComponent;
}());
export { LivechatWidgetComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZWNoYXQtd2lkZ2V0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BsaXZlY2hhdC9hbmd1bGFyLXdpZGdldC8iLCJzb3VyY2VzIjpbInNyYy9saXZlY2hhdC13aWRnZXQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFakUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQU8vQjtJQWdERTtRQXpDaUIsaUJBQVksR0FBRyxJQUFJLE9BQU8sRUFBMEIsQ0FBQztRQUNyRCxnQkFBVyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDNUIsaUJBQVksR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQzdCLGdCQUFXLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUM1QixrQkFBYSxHQUFHLElBQUksT0FBTyxFQUFPLENBQUM7UUFDbkMsdUJBQWtCLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztRQUN4Qyx1QkFBa0IsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ25DLDBCQUFxQixHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDdEMsdUJBQWtCLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNuQyxjQUFTLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztRQUMvQiw4QkFBeUIsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO1FBQy9DLDZCQUF3QixHQUFHLElBQUksT0FBTyxFQUFPLENBQUM7UUFDOUMsNkJBQXdCLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztRQUM5QyxzQkFBaUIsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO1FBQ3ZDLG9CQUFlLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztRQUNyQyxtQkFBYyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7SUEwQmhDLENBQUM7SUFFakIs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UixLQUFLLEVBQUU7MkRBQXNDO0lBQ3JDO1FBQVIsS0FBSyxFQUFFOzREQUEyQztJQUMxQztRQUFSLEtBQUssRUFBRTs4REFBbUI7SUFDakI7UUFBVCxNQUFNLEVBQUU7aUVBQTZEO0lBQzVEO1FBQVQsTUFBTSxFQUFFO2dFQUFvQztJQUNuQztRQUFULE1BQU0sRUFBRTtpRUFBcUM7SUFDcEM7UUFBVCxNQUFNLEVBQUU7Z0VBQW9DO0lBQ25DO1FBQVQsTUFBTSxFQUFFO2tFQUEyQztJQUMxQztRQUFULE1BQU0sRUFBRTt1RUFBZ0Q7SUFDL0M7UUFBVCxNQUFNLEVBQUU7dUVBQTJDO0lBQzFDO1FBQVQsTUFBTSxFQUFFOzBFQUE4QztJQUM3QztRQUFULE1BQU0sRUFBRTt1RUFBMkM7SUFDMUM7UUFBVCxNQUFNLEVBQUU7OERBQXVDO0lBQ3RDO1FBQVQsTUFBTSxFQUFFOzhFQUF1RDtJQUN0RDtRQUFULE1BQU0sRUFBRTs2RUFBc0Q7SUFDckQ7UUFBVCxNQUFNLEVBQUU7NkVBQXNEO0lBQ3JEO1FBQVQsTUFBTSxFQUFFO3NFQUErQztJQUM5QztRQUFULE1BQU0sRUFBRTtvRUFBNkM7SUFDNUM7UUFBVCxNQUFNLEVBQUU7bUVBQXVDO0lBdEJyQyx1QkFBdUI7UUFMbkMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixRQUFRLEVBQUUsRUFBRTtTQUViLENBQUM7T0FDVyx1QkFBdUIsQ0FxSW5DO0lBQUQsOEJBQUM7Q0FBQSxBQXJJRCxJQXFJQztTQXJJWSx1QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTGl2ZUNoYXRXaWRnZXRBcGlNb2RlbCB9IGZyb20gJy4vbGl2ZWNoYXQtd2lkZ2V0Lm1vZGVscyc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xpdmVjaGF0LXdpZGdldCcsXG4gIHRlbXBsYXRlOiBgYCxcbiAgc3R5bGVzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBMaXZlY2hhdFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGxpY2Vuc2VJZDogbnVtYmVyO1xuICBASW5wdXQoKSBncm91cDogbnVtYmVyO1xuICBASW5wdXQoKSBjaGF0QmV0d2Vlbkdyb3VwczogYm9vbGVhbjtcbiAgQElucHV0KCkgcGFyYW1zOiB7IG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSB9O1xuICBASW5wdXQoKSB2aXNpdG9yOiB7IG5hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZywgfTtcbiAgQElucHV0KCkgZ2FWZXJzaW9uOiBzdHJpbmc7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25DaGF0TG9hZGVkID0gbmV3IFN1YmplY3Q8TGl2ZUNoYXRXaWRnZXRBcGlNb2RlbD4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvbkFmdGVyTG9hZCA9IG5ldyBTdWJqZWN0KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25CZWZvcmVMb2FkID0gbmV3IFN1YmplY3QoKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvbkNoYXRFbmRlZCA9IG5ldyBTdWJqZWN0KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25DaGF0U3RhcnRlZCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvbkNoYXRTdGF0ZUNoYW5nZWQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25DaGF0V2luZG93SGlkZGVuID0gbmV3IFN1YmplY3QoKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvbkNoYXRXaW5kb3dNaW5pbWl6ZWQgPSBuZXcgU3ViamVjdCgpO1xuICBAT3V0cHV0KCkgcHVibGljIG9uQ2hhdFdpbmRvd09wZW5lZCA9IG5ldyBTdWJqZWN0KCk7IGRhdGFcbiAgQE91dHB1dCgpIHB1YmxpYyBvbk1lc3NhZ2UgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25Qb3N0Y2hhdFN1cnZleVN1Ym1pdHRlZCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvblByZWNoYXRTdXJ2ZXlTdWJtaXR0ZWQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgb25SYXRpbmdDb21tZW50U3VibWl0dGVkID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICBAT3V0cHV0KCkgcHVibGljIG9uUmF0aW5nU3VibWl0dGVkID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICBAT3V0cHV0KCkgcHVibGljIG9uVGlja2V0Q3JlYXRlZCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBvbldpZGdldFJlc2l6ZSA9IG5ldyBTdWJqZWN0KCk7XG5cbiAgcHVibGljIGFnZW50c0FyZUF2YWlsYWJsZTogRnVuY3Rpb247XG4gIHB1YmxpYyBjaGF0UnVubmluZzogRnVuY3Rpb247XG4gIHB1YmxpYyBjaGF0V2luZG93SGlkZGVuOiBGdW5jdGlvbjtcbiAgcHVibGljIGNoYXRXaW5kb3dNYXhpbWl6ZWQ6IEZ1bmN0aW9uO1xuICBwdWJsaWMgY2hhdFdpbmRvd01pbmltaXplZDogRnVuY3Rpb247XG4gIHB1YmxpYyBjbG9zZUNoYXQ6IEZ1bmN0aW9uO1xuICBwdWJsaWMgZ2V0Q2hhdElkOiBGdW5jdGlvbjtcbiAgcHVibGljIGdldENoYXRzTnVtYmVyOiBGdW5jdGlvbjtcbiAgcHVibGljIGdldExhc3RWaXNpdFRpbWVzdGFtcDogRnVuY3Rpb247XG4gIHB1YmxpYyBnZXRQYWdlVmlld3NOdW1iZXI6IEZ1bmN0aW9uO1xuICBwdWJsaWMgZ2V0VmlzaXRvcklkOiBGdW5jdGlvbjtcbiAgcHVibGljIGdldFZpc2l0c051bWJlcjogRnVuY3Rpb247XG4gIHB1YmxpYyBoaWRlQ2hhdFdpbmRvdzogRnVuY3Rpb247XG4gIHB1YmxpYyBtaW5pbWl6ZUNoYXRXaW5kb3c6IEZ1bmN0aW9uO1xuICBwdWJsaWMgb3BlbkNoYXRXaW5kb3c6IEZ1bmN0aW9uO1xuICBwdWJsaWMgc2V0Q3VzdG9tVmFyaWFibGVzOiBGdW5jdGlvbjtcbiAgcHVibGljIHNldFZpc2l0b3JFbWFpbDogRnVuY3Rpb247XG4gIHB1YmxpYyBzZXRWaXNpdG9yTmFtZTogRnVuY3Rpb247XG4gIHB1YmxpYyB0cmlnZ2VyU2FsZXNUcmFja2VyOiBGdW5jdGlvbjtcbiAgcHVibGljIHVwZGF0ZUN1c3RvbVZhcmlhYmxlczogRnVuY3Rpb247XG4gIHB1YmxpYyB2aXNpdG9yRW5nYWdlZDogRnVuY3Rpb247XG4gIHB1YmxpYyB2aXNpdG9yUXVldWVkOiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSBsYzogSFRNTFNjcmlwdEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAoIXdpbmRvd1snTENfQVBJJ10pIHtcbiAgICAgIHdpbmRvd1snX19sYyddID0gd2luZG93WydfX2xjJ10gfHwge307XG4gICAgICB3aW5kb3dbJ19fbGMnXS5saWNlbnNlID0gdGhpcy5saWNlbnNlSWQ7XG4gICAgICB3aW5kb3dbJ19fbGMnXS5ncm91cCA9IHRoaXMuZ3JvdXA7XG4gICAgICB3aW5kb3dbJ19fbGMnXS5jaGF0X2JldHdlZW5fZ3JvdXBzID0gdGhpcy5jaGF0QmV0d2Vlbkdyb3VwcztcbiAgICAgIHdpbmRvd1snX19sYyddLnBhcmFtcyA9IHRoaXMucGFyYW1zO1xuICAgICAgd2luZG93WydfX2xjJ10udmlzaXRvciA9IHRoaXMudmlzaXRvcjtcbiAgICAgIHdpbmRvd1snX19sYyddLmdhX3ZlcnNpb24gPSB0aGlzLmdhVmVyc2lvbjtcbiAgICAgIGNvbnN0IGFwaSA9IHsgX3E6IFtdLCBfaDogbnVsbCwgY2FsbDogKC4uLmFyZ3MpID0+ICBhcGkuX2ggJiYgYXBpLl9oLmFwcGx5KG51bGwsIFsnY2FsbCcsIFtdLnNsaWNlLmNhbGwoYXJncyldKSAgfTtcbiAgICAgIHdpbmRvd1snTGl2ZUNoYXRXaWRnZXQnXSA9IGFwaTtcbiAgICAgIHRoaXMubGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHRoaXMubGMudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgdGhpcy5sYy5hc3luYyA9IHRydWU7XG4gICAgICB0aGlzLmxjLnNyYyA9ICdodHRwczovL2Nkbi5saXZlY2hhdGluYy5jb20vdHJhY2tpbmcuanMnO1xuICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5sYywgcyk7XG4gICAgICB0aGlzLmxjLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoYXRMb2FkZWQod2luZG93WydMQ19BUEknXSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpe1xuICAgIGlmKHdpbmRvd1snTGl2ZUNoYXRXaWRnZXQnXSAmJiB0eXBlb2Ygd2luZG93WydMaXZlQ2hhdFdpZGdldCddLmNhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHdpbmRvd1snTGl2ZUNoYXRXaWRnZXQnXS5jYWxsKCdkZXN0cm95Jyk7XG4gICAgICB0aGlzLmxjICYmIHRoaXMubGMucmVtb3ZlKCk7XG4gICAgICBbJ3NlY3VyZS5saXZlY2hhdC5jb20nLCAnc2VjdXJlLmxpdmVjaGF0aW5jLmNvbSddLmZvckVhY2goZG9tYWluID0+IHtcbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbc3JjKj1cIiR7ZG9tYWlufVwiXWApKS5mb3JFYWNoKHMgPT4gcy5yZW1vdmUoKSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfY2hhdExvYWRlZChMQ19BUEk6IExpdmVDaGF0V2lkZ2V0QXBpTW9kZWwpIHtcbiAgICB0aGlzLl9zZXRDYWxsYmFja3MoTENfQVBJKTtcbiAgICB0aGlzLl9zZXRNZXRob2RzKExDX0FQSSk7XG4gICAgdGhpcy5vbkNoYXRMb2FkZWQubmV4dChMQ19BUEkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0Q2FsbGJhY2tzKExDX0FQSTogTGl2ZUNoYXRXaWRnZXRBcGlNb2RlbCkge1xuICAgIExDX0FQSS5vbl9hZnRlcl9sb2FkID0gKCkgPT4gdGhpcy5vbkFmdGVyTG9hZC5uZXh0KCk7XG4gICAgTENfQVBJLm9uX2JlZm9yZV9sb2FkID0gKCkgPT4gdGhpcy5vbkJlZm9yZUxvYWQubmV4dCgpO1xuICAgIExDX0FQSS5vbl9jaGF0X2VuZGVkID0gKCkgPT4gdGhpcy5vbkNoYXRFbmRlZC5uZXh0KCk7XG4gICAgTENfQVBJLm9uX2NoYXRfc3RhcnRlZCA9IChkYXRhKSA9PiB0aGlzLm9uQ2hhdFN0YXJ0ZWQubmV4dChkYXRhKTtcbiAgICBMQ19BUEkub25fY2hhdF9zdGF0ZV9jaGFuZ2VkID0gKGRhdGEpID0+IHRoaXMub25DaGF0U3RhdGVDaGFuZ2VkLm5leHQoZGF0YSk7XG4gICAgTENfQVBJLm9uX2NoYXRfd2luZG93X2hpZGRlbiA9ICgpID0+IHRoaXMub25DaGF0V2luZG93SGlkZGVuLm5leHQoKTtcbiAgICBMQ19BUEkub25fY2hhdF93aW5kb3dfbWluaW1pemVkID0gKCkgPT4gdGhpcy5vbkNoYXRXaW5kb3dNaW5pbWl6ZWQubmV4dCgpO1xuICAgIExDX0FQSS5vbl9jaGF0X3dpbmRvd19vcGVuZWQgPSAoKSA9PiB0aGlzLm9uQ2hhdFdpbmRvd09wZW5lZC5uZXh0KCk7XG4gICAgTENfQVBJLm9uX21lc3NhZ2UgPSAoZGF0YSkgPT4gdGhpcy5vbk1lc3NhZ2UubmV4dChkYXRhKTtcbiAgICBMQ19BUEkub25fcG9zdGNoYXRfc3VydmV5X3N1Ym1pdHRlZCA9IChkYXRhKSA9PiB0aGlzLm9uUG9zdGNoYXRTdXJ2ZXlTdWJtaXR0ZWQubmV4dChkYXRhKTtcbiAgICBMQ19BUEkub25fcHJlY2hhdF9zdXJ2ZXlfc3VibWl0dGVkID0gKGRhdGEpID0+IHRoaXMub25QcmVjaGF0U3VydmV5U3VibWl0dGVkLm5leHQoZGF0YSk7XG4gICAgTENfQVBJLm9uX3JhdGluZ19jb21tZW50X3N1Ym1pdHRlZCA9IChkYXRhKSA9PiB0aGlzLm9uUmF0aW5nQ29tbWVudFN1Ym1pdHRlZC5uZXh0KGRhdGEpO1xuICAgIExDX0FQSS5vbl9yYXRpbmdfc3VibWl0dGVkID0gKGRhdGEpID0+IHRoaXMub25SYXRpbmdTdWJtaXR0ZWQubmV4dChkYXRhKTtcbiAgICBMQ19BUEkub25fdGlja2V0X2NyZWF0ZWQgPSAoZGF0YSkgPT4gdGhpcy5vblRpY2tldENyZWF0ZWQubmV4dChkYXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldE1ldGhvZHMoTENfQVBJOiBMaXZlQ2hhdFdpZGdldEFwaU1vZGVsKSB7XG4gICAgdGhpcy5hZ2VudHNBcmVBdmFpbGFibGUgPSAoKSA9PiBMQ19BUEkuYWdlbnRzX2FyZV9hdmFpbGFibGUoKTtcbiAgICB0aGlzLmNoYXRSdW5uaW5nID0gKCkgPT4gTENfQVBJLmNoYXRfcnVubmluZygpO1xuICAgIHRoaXMuY2hhdFdpbmRvd0hpZGRlbiA9ICgpID0+IExDX0FQSS5jaGF0X3dpbmRvd19oaWRkZW4oKTtcbiAgICB0aGlzLmNoYXRXaW5kb3dNYXhpbWl6ZWQgPSAoKSA9PiBMQ19BUEkuY2hhdF93aW5kb3dfbWF4aW1pemVkKCk7XG4gICAgdGhpcy5jaGF0V2luZG93TWluaW1pemVkID0gKCkgPT4gTENfQVBJLmNoYXRfd2luZG93X21pbmltaXplZCgpO1xuICAgIHRoaXMuY2xvc2VDaGF0ID0gKCkgPT4gTENfQVBJLmNsb3NlX2NoYXQoKTtcbiAgICB0aGlzLmdldENoYXRJZCA9ICgpID0+IExDX0FQSS5nZXRfY2hhdF9pZCgpO1xuICAgIHRoaXMuZ2V0Q2hhdHNOdW1iZXIgPSAoKSA9PiBMQ19BUEkuZ2V0X2NoYXRzX251bWJlcigpO1xuICAgIHRoaXMuZ2V0TGFzdFZpc2l0VGltZXN0YW1wID0gKCkgPT4gTENfQVBJLmdldF9sYXN0X3Zpc2l0X3RpbWVzdGFtcCgpO1xuICAgIHRoaXMuZ2V0UGFnZVZpZXdzTnVtYmVyID0gKCkgPT4gTENfQVBJLmdldF9wYWdlX3ZpZXdzX251bWJlcigpO1xuICAgIHRoaXMuZ2V0VmlzaXRvcklkID0gKCkgPT4gTENfQVBJLmdldF92aXNpdG9yX2lkKCk7XG4gICAgdGhpcy5nZXRWaXNpdHNOdW1iZXIgPSAoKSA9PiBMQ19BUEkuZ2V0X3Zpc2l0c19udW1iZXIoKTtcbiAgICB0aGlzLmhpZGVDaGF0V2luZG93ID0gKCkgPT4gTENfQVBJLmhpZGVfY2hhdF93aW5kb3coKTtcbiAgICB0aGlzLm1pbmltaXplQ2hhdFdpbmRvdyA9ICgpID0+IExDX0FQSS5taW5pbWl6ZV9jaGF0X3dpbmRvdygpO1xuICAgIHRoaXMub3BlbkNoYXRXaW5kb3cgPSAoKSA9PiBMQ19BUEkub3Blbl9jaGF0X3dpbmRvdygpO1xuICAgIHRoaXMuc2V0Q3VzdG9tVmFyaWFibGVzID0gKHQpID0+IExDX0FQSS5zZXRfY3VzdG9tX3ZhcmlhYmxlcyh0KTtcbiAgICB0aGlzLnNldFZpc2l0b3JFbWFpbCA9ICh0KSA9PiBMQ19BUEkuc2V0X3Zpc2l0b3JfZW1haWwodCk7XG4gICAgdGhpcy5zZXRWaXNpdG9yTmFtZSA9ICh0KSA9PiBMQ19BUEkuc2V0X3Zpc2l0b3JfbmFtZSh0KTtcbiAgICB0aGlzLnRyaWdnZXJTYWxlc1RyYWNrZXIgPSAoZSwgdCkgPT4gTENfQVBJLnRyaWdnZXJfc2FsZXNfdHJhY2tlcihlLCB0KTtcbiAgICB0aGlzLnVwZGF0ZUN1c3RvbVZhcmlhYmxlcyA9ICh0KSA9PiBMQ19BUEkudXBkYXRlX2N1c3RvbV92YXJpYWJsZXModCk7XG4gICAgdGhpcy52aXNpdG9yRW5nYWdlZCA9ICgpID0+IExDX0FQSS52aXNpdG9yX2VuZ2FnZWQoKTtcbiAgICB0aGlzLnZpc2l0b3JRdWV1ZWQgPSAoKSA9PiBMQ19BUEkudmlzaXRvcl9xdWV1ZWQoKTtcbiAgfVxufVxuIl19